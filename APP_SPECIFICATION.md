# シンプル録音（VoiLog）アプリ仕様書

## 1. アプリ概要

「シンプル録音」（VoiLog）は、iOSデバイス向けの音声録音・管理アプリケーションです。シンプルな操作性と高度な音声管理機能を兼ね備え、ユーザーが簡単に音声メモを録音、再生、整理できるように設計されています。

## 2. 主要機能

### 2.1 音声録音機能
- マイクボタンをタップして録音を開始
- 録音中の音声レベルをリアルタイム表示
- 録音の一時停止と再開
- 録音の停止と保存
- 録音品質の設定（サンプリング周波数、量子化ビット数、チャンネル数）

### 2.2 音声再生機能
- 録音した音声メモの一覧表示
- タップして音声を再生
- 再生中の音声波形表示
- 再生速度の調整
- 連続再生モード

### 2.3 プレイリスト機能
- 複数の音声メモをプレイリストとしてグループ化
- プレイリストの作成、編集、削除
- プレイリスト内の音声メモの並べ替え
- プレイリスト単位での再生

### 2.4 設定機能
- 録音フォーマットの選択（m4a等）
- 音質設定（サンプリング周波数、量子化ビット数、チャンネル数）
- マイク音量の調整
- エラーログの表示

### 2.5 チュートリアル機能
- 初回起動時にアプリの使い方を説明するチュートリアル表示
- 3ステップ（録音開始、録音停止、再生）の基本操作を説明
- 多言語対応（12言語）


### 2.6 クラウド同期機能
- iCloudを使用した音声メモの同期
- 複数デバイス間でのデータ共有

### 2.7 課金機能（プレミアムサービス）
- 広告の非表示
- 無制限のプレイリスト作成
- 高度な音声編集機能
- 1ヶ月無料トライアル

## 3. 技術仕様

### 3.1 アーキテクチャ
- SwiftUIを使用したUIの構築
- The Composable Architecture (TCA)を採用した状態管理
- CoreDataを使用したローカルデータベース
- AVFoundationを使用した音声処理

### 3.2 データモデル
- VoiceMemo: 音声メモのデータモデル（UUID、タイトル、日付、時間、URL、テキスト等）
- Playlist: プレイリストのデータモデル（ID、名前、作成日、更新日等）

### 3.3 設定管理
- UserDefaultsManagerを使用した設定の永続化
- 録音設定（ファイル形式、サンプリング周波数、量子化ビット数、チャンネル数）
- アプリ状態（インストール日、レビュー要求回数、チュートリアル表示状態等）

### 3.4 外部サービス連携
- Firebase: クラッシュレポート、分析
- RevenueCat: 課金管理
- GoogleMobileAds: 広告表示
- iCloud: データ同期

## 4. UI/UX仕様

### 4.1 メイン画面
- 録音モードと再生モードの切り替え
- 録音ボタン（赤い円形）
- 録音済み音声メモのリスト表示
- プレイリストへのナビゲーションリンク
- 設定へのアクセス

### 4.2 録音画面
- 録音ボタン（赤い円形）
- 停止ボタン（赤い四角形）
- 音声レベルのリアルタイム表示
- 録音時間の表示

### 4.3 再生画面
- 再生/一時停止ボタン
- 音声波形の表示
- 再生位置の表示
- 再生速度の調整

### 4.4 プレイリスト画面
- プレイリスト一覧
- 新規プレイリスト作成ボタン
- プレイリスト詳細画面（含まれる音声メモの一覧）
- 音声メモの追加/削除機能

### 4.5 設定画面
- 録音設定（ファイル形式、音質等）
- アプリ情報
- プレミアム機能の購入
- 開発者サポート

### 4.6 チュートリアル画面
- オーバーレイ表示
- 3ステップの操作説明
- 実際のボタンと同じデザインのアイコン
- 「始める」ボタン

## 5. 多言語対応

以下の言語に対応:
- 英語 (en)
- ドイツ語 (de)
- スペイン語 (es)
- フランス語 (fr)
- イタリア語 (it)
- 日本語 (ja)
- ポルトガル語 (pt-PT)
- ロシア語 (ru)
- トルコ語 (tr)
- ベトナム語 (vi)
- 簡体字中国語 (zh-Hans)
- 繁体字中国語 (zh-Hant)

## 6. 課金プラン

### 6.1 無料版
- 基本的な録音・再生機能
- 最大3つのプレイリスト作成
- 広告表示あり

### 6.2 プレミアム版
- すべての機能が使い放題
- 広告非表示
- 無制限のプレイリスト作成
- 高度な音声編集機能


## 8. テスト仕様

- ユニットテスト: VoiceMemosTests
- UIテスト: VoiLogUITests
- 初回起動時のチュートリアル表示テスト
- 録音・再生機能のテスト
- 設定変更のテスト
- レビュー要求表示のテスト

## 9. バージョン履歴

- 現在のバージョン: 0.15.0
- 最新の更新内容: チュートリアル画面の追加 